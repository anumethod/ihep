# IHEP Platform - Environment Variables Template
# Copy this file to .env.local and fill in the actual values
# NEVER commit .env.local to git!

# =============================================================================
# THIRD-PARTY API KEYS (Store in Google Cloud Secret Manager in production)
# =============================================================================

# OpenAI API Key - for AI-powered wellness insights
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY={{OPENAI_API_KEY}}

# SendGrid API Key - for email notifications
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY={{SENDGRID_API_KEY}}

# Twilio - for SMS notifications and telehealth video calls
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID={{TWILIO_ACCOUNT_SID}}
TWILIO_AUTH_TOKEN={{TWILIO_AUTH_TOKEN}}
TWILIO_PHONE_NUMBER={{TWILIO_PHONE_NUMBER}}

# =============================================================================
# APPLICATION SECRETS
# =============================================================================

# Session Secret - for JWT token signing (generate with: openssl rand -base64 64)
# CRITICAL: This must be a cryptographically secure random string
SESSION_SECRET={{SESSION_SECRET}}

# NextAuth.js Configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET={{NEXTAUTH_SECRET}}

# =============================================================================
# GOOGLE CLOUD PLATFORM CONFIGURATION
# =============================================================================

# GCP Project Configuration
GCP_PROJECT={{GCP_PROJECT_ID}}
GCP_REGION=us-central1
GCP_LOCATION=us-central1

# Healthcare API
HEALTHCARE_DATASET=ihep-dataset
FHIR_STORE=ihep-fhir-store

# Cloud KMS (Key Management Service)
KMS_KEY_RING=ihep-keyring
KMS_CRYPTO_KEY=dek-wrapper-key

# Service Account (path to JSON file - store file outside repo)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL / Cloud SQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ihep
DB_USER=postgres
DB_PASSWORD={{DB_PASSWORD}}

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# CACHE & SESSION STORE
# =============================================================================

# Redis / Memorystore
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD={{REDIS_PASSWORD}}

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Base URLs
API_BASE_URL=http://localhost:8080
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_GCP_PROJECT={{GCP_PROJECT_ID}}

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

NODE_ENV=development
# Options: development, production, test

# Logging
LOG_LEVEL=info
# Options: error, warn, info, debug, trace

# =============================================================================
# SECURITY & RATE LIMITING
# =============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# CORS
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
NEXT_PUBLIC_FEATURE_DIGITAL_TWIN=false
NEXT_PUBLIC_FEATURE_AI_CHAT=true
NEXT_PUBLIC_FEATURE_TELEHEALTH=true

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# GitHub (for CI/CD integration only - use fine-grained tokens)
# GITHUB_PAT={{GITHUB_PAT}}

# Sentry (Error Tracking)
# SENTRY_DSN={{SENTRY_DSN}}
# SENTRY_ORG={{SENTRY_ORG}}
# SENTRY_PROJECT={{SENTRY_PROJECT}}

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================
#
# 1. NEVER commit .env.local or any file with real secrets to git
# 2. Use Google Cloud Secret Manager for production secrets
# 3. Rotate all secrets regularly (quarterly recommended)
# 4. Use different secrets for dev/staging/production environments
# 5. Grant minimum required permissions for service accounts
# 6. Enable audit logging for all secret access
# 7. Use strong, randomly generated secrets (minimum 32 bytes)
#
# Generate secure secrets:
#   openssl rand -base64 32   # For short secrets
#   openssl rand -base64 64   # For long secrets (recommended)
#   openssl rand -hex 32      # For hex-encoded secrets
#
# Store secrets in GCP Secret Manager:
#   echo -n "secret-value" | gcloud secrets create SECRET_NAME --data-file=-
#
# Access secrets in production:
#   Use Google Cloud Secret Manager API or workload identity
#   Never store production secrets in environment files
#
# =============================================================================
